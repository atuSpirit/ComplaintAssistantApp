<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.6.0/css/bootstrap-slider.min.css">
    <link rel="shortcut icon" href="/static/virtual-assistant-icon.jpg" />
    <title>Complaint Assistant</title>

    <style>
        body {
            height: 100%;
            background-color: transparent;
        }

        html {
            background: url("/static/img/escalate.webp") no-repeat center center fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
            height: 100%;
            margin: 0;
        }

        narrative {
            color: #555;
            background-color: #fff;
            border-radius: 0.25rem;
            border: 1px solid #6c757d;
            padding: 7px;
            font-size: 0.9em;
            width: 300px;
        }

        .result {
            background-color: #333;
            border-radius: 0.2rem;
            border: 1px solid #333;
            min-height: 300px;
            width: 100%;
            padding: 7px;
            opacity: 0.9;
            color: #fff;
            margin-bottom: 20px;
        }

        .table {
            color: #fff;
        }

        .nav-link {
            color: #fff;
            font-weight: 1.2em;
        }

        .nav-link:hover {
            color: #fff;
            font-weight: 1.2em;
        }
        #advanced-options{
            color: #fff;
            font-weight: 1.1em;
        }
        #distance-slider .slider-selection {
            background: #BABABA;
        }
        .advanced-option-header{
            font-weight: bold;
        }
        #facility-wrapper{
            display: flex;
        }
        #activity-wrapper{
            display: flex;
        }
        .form-check{
            margin-left: 10px;
        }
        .map {
            height: 300px;  /* The height is 400 pixels */
            width: 100%;  /* The width is the width of the web page */
        }
        #search-result{
            margin-top: 20px;
        }
        .review{
            margin-bottom: 10px;
        }
    </style>

  </head>

  <!-- Header -->
    <header>
      <div class="navbar navbar-dark bg-dark shadow-sm">
          <div class="container d-flex justify-content-between">
              <a href="#" class="navbar-brand d-flex align-items-center">
                  <strong>Complaint Assistant</strong>
              </a>
              <a href="#" class="navbar-brand d-flex align-items-center">
                  Your assistant to prevent complaint escalation
              </a>
          </div>
      </div>
    </header>

    <br></br>

    <div class="container">
        <div class="col-lg-6">
          <div class="input-group">
              <form action="/predict" method="GET" id="user_input">
                    <input class="form-control" type="text" id="narrative" name='user_input' placeholder="Input a complaint narrative please">
              </form>
              <span class="input-group-btn">
                <button type="submit" class="btn btn-secondary" form="user_input" style="display: inline-block" >Predict</button>
              </span>

          </div>
        </div>
    </div>

    <br></br>

    <div class="container">
      {% if user_input=='Empty' %}
        <div class="row mt-4 justify-content-center">
            <h4 class="text-center">Please input a complaint narrative!</h4>
        </div>

      {% elif user_input=='NotEmpty' %}
        <div class='result'>
            <div class="row">
                <div class="col">
                    <div class="row">
                        <p></p>
                    </div>
                    <div class="row">
                        <p></p>
                    </div>
                    <div class="row">
                        <div class="alert alert-info" role="alert">Complaint is about {{product_type}} </div>
                    </div>

                    <div class="row">
                        {% if will_escalate==1 %}
                            <div class="alert alert-warning" role="warning">Warning! There is chance of escalation!</div>
                        {% else %}
                            <div class="alert alert-info" role="alert">There will probably be no escalation. </div>
                        {% endif %}
                    </div>
                    <div class="row">
                        <div class="alert alert-info" role="alert">Suggested response types is {{suggest_response}} </div>
                    </div>
                </div>
                <div class="col">
                    <div>
                        <p>Escalation Probability with Different Responses</p>
                    </div>
                    <div>
                        <img src="{{ url_for('static', filename = escalation_prob_img) }}" width=450 height=400>
                    </div>
                </div>
            </div>
        </div>

        <div class='result'>
            <div class="row">
              <div class="col-lg-10 mx-auto">
                <h5>Complaint Narrative Entered:</h5>
                <p> {{narrative}}
              </div>
            </div>
        </div>


      {% else %}
      {% endif %}      
    </div>




    <!-- Bootstrap core JavaScript -->
    <script src="../static/js/jquery.min.js"></script>
    <script src="../static/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="../static/js/jquery.easing.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="../static/js/stylish-portfolio.min.js"></script>

  </body>

</html>
